---
published: true
layout: bookpage_fa-IR
weight: 63
category: workflow
title: درستی‌سنجی؛ اطمینان حاصل کنید که فونت‌تان درست کار می‌کند
---

در یکی دنیای ایده‌آل، بدون هیچ تلاش اضافه‌ای می‌توانستید فونت‌تان را ساخته و روی هر رایانهٔ مدرنی نصب کنید اما واقعیت، به خصوص در خلال فرایند طراحی، شلخته‌تر از این حرف‌هاست.
فونت‌ها ممکن است دارای خطاهای فنی‌ای باشند که مانع از کارکرد و نماش درست‌شان می‌شوند.
مثلا منحنی‌هایی که با هم تداخل می‌کنند به دلیل نداشتن بخش داخلی و خارجی، به درستی نمایش نمی‌یابند.
قالب‌های مختلف فونت نیز انتظار دارند که گلیف‌ها از یک سری قواعد به خصوص پیروی کنند که قرار دادن متن روی صفحه را ساده‌تر می‌کنند، و اگر فونتی این قواعد با بشکند می‌تواند باعث بروز مشکلات دور از انتظاری شود.
مثالی از این دست مسائل این است که همهٔ گره‌های روی منحنی بایستی دارای مختصات صحیح (عدد صحیح) باشند.
نهایتا، خطاهای سبکی وجود دارند (مانند خطوطی که قرار بوده کاملا افقی یا عمودی باشند و تصادفا قدری کج شده‌اند) که هرچند از نظر فنی اشتباه نیستند اما لازم است رفع شوند.

فونت‌فورج ابزارهایی را فراهم آورده است که می‌تواند برای یافتن (و در بسیاری موارد اصلاح) هر سه دسته مشکلی که مطرح شد به کار گرفته شوند.
در نتیجه، درستی‌سنجی فونت برای از میان برداشتن این مشکلات نه تنها اطمینان می‌دهد که کاربران می‌توانند فونت را نصب و استفاده کنن بلکه خیال‌مان را راحت می‌کند که خروجی نهایی، تر و تمیز است.

## یافتن مشکلات

اولین ابزاری که استفاده می‌کنیم Find Problems در فهرست Element است.
ابتدا بایستی یک یا چند گلیف را، چه از نمای فونت و چه از نمای ویرایش و چه از نمای سنجه‌ها، انتخاب کند.
سپس ابزار «یافتن مشکلات» را باز کنید.
این ابزار، دسته‌بندی‌از مشکلات احتمالی را در هشت زبانهٔ مجزا پیش روی شما می‌گذارد.

<img src="images/findproblemswindow.png" alt="">

اینجا می‌توانید مشکلاتی را که به دنبال یافتن‌شان هستید انتخاب کرده و یا در برخی موارد، مقادیر عددی‌ای را برای بررسی وارد کنید.
زمانی که روی دکمهٔ Ok کلیک کنید، این ابزار همهٔ موارد انتاخاب شده با بررسی کرده و گزارشی از مشکلاتی که پیدا کرده است را نمایش می‌دهد.

مشکلاتی این ابزار می‌تواند به دنبال‌شان بگردد در این هشت گروه دسته‌بندی می‌شوند:

* مشکلات مربوط به گره‌ها (Points)
* مشکلات مربوط به مسیرها و منحنی‌ها (Paths)
* مشکلات مربوط به ارجاعات (Refs)
* مشکلات مربوط به اشارات (Hints)
* مشکلات مربوط به ATT
* مشکلات مخصوص فونت‌های CID-keyed
* مشکلات مربوط به قاب‌های محیطی (Bounding Boxes)
* سایر مشکلات متفرقه

همهٔ بررسی‌ها ضرورت ندارند.
برخی (مانند زبانهٔ CID) فقط روی خطوط و زبان‌هایی خاصی و یا ویژگی‌های گزینشی فونت (مانند گزینه‌های زبانهٔ ارجاعات) قابل اعمال هستند.
اما شما بایستی بررسی کنید که فونت‌تان، آن دسته آزمون‌هایی را که ویژگی‌های ضروری را بررسی می‌کنند، و آزمون‌های متعددی که برای رفتارهای گزینشی اما رایج می‌پردازند، با موفقیت پشت سر بگذارند.
بسیاری از آزمون‌های دیگر، بازخورد و راهنماهایی را در طول فرایند طراحی در اختیار می‌گذارند که باعث می‌شود بررسی کردن‌شان برای چنین منظوری، خالی از لطف نباشد.

### اولین کار: آزمون ویژگی‌های ضروری

در زبانهٔ مربوط به گره‌ها (Points)، آزمون مختصات غیر صحیح (Non-Integral Coordinates) را انتخاب کنید.
این آزمون اطمینان حاصل می‌کند که همهٔ گره‌های یک گلیف (شامل گره‌های روی منحنی و گره‌های کنترلی) دارای مختصات عدد صحیح باشند.
البته این مساله چیزی نیست که همهٔ قالب‌های خروجی فونت به آن نیاز داشته باشند اما برخی‌شان چنین الزامی را دارند.

در زبانهٔ مسیرها (Paths) گزینه‌های مسیرهای باز (Open Paths) و بررسی ساعت‌گردبودن بیرونی‌ترین مسیر (Check outermost paths clockwise) را انتخاب کنید.
این دو مورد، برای همهٔ فونت‌ها الزامی هستند.
اولی، به دنبال شکل‌هایی می‌گردد که بسته نشده باشند و دومی اطمینان حاصل می‌کند که جهت رسم بیرونی‌ترین منحنی گلیف‌های انتخاب شده، ساعت‌گرد باشند.
هر چند تقریبا همهٔ قالب‌های فونت مدرن توانایی پشتیبانی از مسیرهای متداخل را دارند اما فکر خوبی است که گزینهٔ مسیرهای متداخل (Intersecting paths) را نیز بررسی کنید چون مجاز نیست که یک منحنی با خودش تداخل داشته باشد.
افزون بر این، اگر گلیفی دارای مسیرهای خودمتداخل باشد، فونت‌فورج نمی‌تواند آزمون «بررسی ساعت‌گردبودن بیرونی‌ترین مسیر» را اجرا کند.

در زبانهٔ ارجاعات (Refs) هر شش آزمون را انتخاب کندی.
این موارد همگی به ارجاعاتی مربوط می‌شوند که در آن‌ها، یک گلیف می‌تواند از مسیرهایی سایر گلیف‌ها در خود استفاده می‌کنند.
به عنوان مثلا، یک نویسهٔ لهجه‌دار شامل یک ارجاع به نویسهٔ پایه (بدون لهجه) و همچنین یک ارجاع به گلیف لهجه است.
همهٔ آزمون‌های این زبانه الزامی هستند.

به همین ترتیب۷ همهٔ آزمون‌های زبانهٔ ATT را انتخاب کنید.
این آزمون‌ها به دنبال نام‌های ناموجود برای گلیف‌ها، قواعد جایگذاری دارای ارجاع به گلیف های ناموجود، و سایر مشکلات مربوط به نام گلیف‌ها و یا خصوصیات OpenType می‌گردند.
مشکلاتی که این آزمون‌ها به دنبال‌شان هستند چندان رایج نیستند اما در صورت وجود، باعث نامعتبر شدن فونت‌تان برای یک یا چند سیستم‌عامل می‌شوند.
بنابراین بررسی‌شان را در دستور کار بگذارید.

### کار کاربران را با بررسی رفتار درست فونت، راحت کنید

آزمون‌های بالا اطمینان حاصل می‌کنند که بتوان فونت را مطابق قواعد تعریف شده برای قالب‌های مختلف فونت، نصب و استفاده کرد، اما آزمون‌های دیگری وجود دارند که باید به خصوص در پایان فرایند طراحی در نظرشان بگیرید تا مطمئن شوید فونت‌تان از برخی قراردادهای رایج در تایپوگرافی مدرن پیروی می‌کند.

در زبانهٔ گره‌ها (Points) گزینهٔ Control points beyond spline را انتخاب کندی. این آزمون به دنبال گره‌های کنترلی می‌گردد که فراتر از گره‌های پایانی بخشی از منحنی که به آن تعلق دارند هستند.
به ندرت دلیلی برای این وجود دارد که یک گره کنترلی خارج از منحنی قرار بگیرد و اگر چنین حالتی رخ بدهد به احتمال زیاد، نشانه‌ای از یک اشتباه است.
فکر خوبی است که گزینهٔ «گره‌های بسیار دور از هم» (Points too far apart) را نیز انتخاب کنید.
این گزینه، گره‌هایی را پیدا می‌کند بیش از ۳۲٬۷۶۷ واحد از نزدیک‌ترین نقطهٔ کناری‌شان فاصله داشته باشند.
چنین فاصله‌ای، بیش از بیشینهٔ فاصله‌ای است که اغلب رایانه‌ها در محاسبات داخلی‌شان می‌توانند به کار بگیرند.
با مقایسهٔ این عدد با ابعاد گلیف‌ها که حوالی هزار واحد هستند می‌توان فهمید که بعید است نقطه‌ای عمدا در چنین فاصله‌ای قرار داده شود.
در نتیجه، مهم است که چنین نقاطی حذف شوند.

در زبانهٔ‌ مسیرها (Paths)، دو گزینهٔ بررسی کرانه‌های ناموجود (Check Missing Extrema) و نقاط بیش از تعدادی مشخص (More Points Than [val]) را انتخاب کنید.
اولین گزینه، تلاش می‌کند تا در کرانه‌ها به دنبال گره بگردد؛ یعنی در بالاترین، پایین‌ترین، راست‌ترین و چپ‌ترین قسمت یک گلیف.
قالب‌های مدرن فونت قویاً پیشنهاد می‌کنند که مسیرها در همهٔ کرانه‌های افقی و عمودی‌شان دارای گره باشند تا کار پرداخت و نمایش حروف چه روی کاغذ و چه روی صفحه‌های دیجیتال آسان‌تر شود.
این گزینه، نبودن چنین نقاطی را هشدار می‌دهد.

دومین گزینه یک بررسی بهداشتی است و تعداد نقاط استفاده شده برای ساخت یک گلیف را در نظر می‌گیرد.
مقدار پیش‌فرض فونت‌فورج برای این گزینه روی ۱٬۵۰۰ قرار دارد که مقدار پیشنهادی در مستندات PostScript بوده و تقریبا برای همهٔ فونت‌ها مقداری خوب به حساب می‌آید.

زبانهٔ Random همان‌طور که از نامش پیداست، فهرستی از آزمون‌های متفرقه را در اختیار ما می‌گذارد که قابل دسته‌بندی زیر زبانه‌های دیگر نیستند.
از این بین، سه مورد آخر بسیار ارزشمند هستند: بررسی یونیکدهای چندگانه (Check Multiple Unicode)، بررسی نام‌های چندگانه (Check Multiple Names) و بررسی عدم تطابق نام/یونیکد (Check Unicode/Name mismatch).
همگی، فراداده‌ها را برای نگاشت صحیح نام گلیف‌ها و شناسهٔ یونیکد شیارها مورد بررسی قرار می‌دهند.

### با اجرای آزمون‌هایی که به طراحی‌تان کمک می‌رسانند، خود را یاری کنید

بسیاری از آزمون‌های دیگر در ابزار مشکل‌یاب (Find Problems) می‌توانند برای یافتن و شناسایی ناهماهنگی‌هایی به کار روند که هرچند غلط یا نامعتبر نیستند اما شما به عنوان طراحی لازم است دستی به آن‌ها بکشید.
به عنوان مثال آزمون «بلندی نزیدک به ارتفاع معیار» (Y near standard heights) در زبانهٔ گره‌ها (Points)، گلیف را با مجموعه‌ای از مقادیر در محور عمودی مانند خط کرسی، ارتفاع x، پایین‌ترین نقطهٔ فرود حرف p و از این دست موارد مقایسه می‌کند.
در یک تایپ‌فیس با طراحی یکنواخت، اغلب حروف از برخی از این سطوح برای طراحی بهره می‌برند. بنابراین یافتن گلیف‌هایی که به چنین سطوحی نزدیک نباشند می‌تواند کمک بزرگی برای رفع مشکل‌شان باشد.

آزمون بررسی «لبه‌های نزدیک به افقی/عمودی/ایتالیک» (Edges near horizontal/vertical/italic) در زبانهٔ مسیرها (Paths) به دنبال بخش‌هایی از خط می‌گردد که تقریبا افقی، عمودی و یا دارای زاویه‌ای نزدیک به زاویهٔ ایتالیک فونت هستند.
تبدیل کردن خطوط تقریبا عمومی به کاملا عمودی به معنی پرداخت و نمایش شفاف شکل‌ها در زمان استفاده است.
این آزمون، روشی قابل اتکا برای یافتن بخش‌هایی از ترسیم ارائه می‌دهد که یافتن انحراف‌شان با چشم غیر مسلح بسیار دشوار است.

می‌توانید از آزمون‌های دیگر برای یافتن گره‌های روی منحنیِ بیش از حد نزدیک به هم، مقایسهٔ حاشیه‌های جنبی گلیف‌های مشابه استفاده کنید.
می‌توانید از مجموعهٔ دیگری از آزمون‌ها نیز برای آشکارسازی نابهنجاری‌های گلیف‌ها بهره ببرید.
بخشی از فرایند اصلاح این است که طرح اولیه‌تان را برداشته و آن را دقیق‌تر کنید.
همانند دیگر وجوه طراحی قونت، این مساله نیز یک کار ادامه‌دار و چندباره است.
با بهره‌گیری از ابزارهای تعبیه شده در نرم‌افزار، بخش زیادی از کارهای تکراری را می‌توانید کاهش دهید.

## درستی‌سنجی فونت

ابزار دیگر فونت‌فورج برای درستی‌سنجی، کلیت فونت را بررسی می‌کند.
این ابزار، مجموعه‌ای از آزمون‌ها و بررسی‌ها را روی کل فونت اجرا می‌کند.
از آنجایی که این درستی‌سنج برای بررسی کل فونت به کار می‌رود، برای اجرایش بایستی در پنجرهٔ نمایش فونت باشد.
به `Element > Validation` بروید.
این ابزار طراحی شده است تا موارد فنی‌ای را بررسی کند که اساسا به آزمون‌هایی که در قسمت «
[آزمون ویژگی‌های ضروری](#اولین-کار-آزمون-ویژگیهای-ضروری)
» به آن‌ها پرداختیم مربوط می‌شوند.
اما این ابزار، آزمون‌های مورد اشاره را روی کل فونت اجرا می‌کند که به مراتب سریع‌تر از آن است که بخواهید خودتان به صورت دستی با کمک ابزار مشکل‌یاب (Find Problems) انجام دهید.

<img src="images/validator-integral-question.png" alt="">

نخستین باری که درستی‌سنج را در یک نشست ویرایشی به خصوص اجرا می‌کنید، پنجره‌ای را نمایش می‌دهد که در آن از شما می‌پرسد آیا مختصات غیر صحیح گره‌ها را به صورت خطا به شما نشان دهد یا خیر.
از آن رو که اصلاح مختصاتی که روی اعداد صحیح نیستند را بعدا نیز باید انجام دهید، پاسخ ایمن، تایید دریافت چنین خطایی با با کلیک روی Report as an error است.
زمانی که پایش درستی‌سنجی روی فونت کامل شود (که ممکن است چند ثانیه زمان ببرد) پنجره‌ای نمایش می‌یابد که شامل فهرست مشکلات پیدا شده، به ترتیب گلیف‌ها است.

<img src="images/valiator-output.png" alt="">

اما این پنجره، صرفا فهرستی از خطاها نیست.
می‌توانید روی هر مورد در این فهرست دو بار کلیک کنید تا فونت‌فوج شما را به گلیف مورد نظر برده و مشکل دقیق را همراه با توضحیات متنی در پنجره‌ای جداگانه به شما نشان دهد.
سپس می‌توانید در ویرایش‌گر گلیف اقدام به رفع مشکل کنید.
با رفع مشکل، مورد مربوط به آن مشکل، به صورت بلادرنگ از فهرست خطاهای درستی‌سنج حذف می‌شود.
در بسیاری موارد، فونت‌فورج می تواند خطاها را به صورت خودکار رفع کند.
در چنین مواردی، پنجرهٔ توضیحات دکمه‌ای با نام Fix خواهد داشت که با کلیک روی آن، بدون نیاز به انجام کار دیگری، مشکل رفع می‌شود.

<img src="images/validator-fix-problem.png" alt="">

برای برخی مشکلات، امکان رفع خودکار وجود ندارد اما دیدن مشکل روی صفحه، به رفع سریع آن کمک خواهد کرد.
به عنوان مثال، یک منحنی خودمتقاطع دارای قسمت مشخصی است که خطوط روی هم افتاده‌اند. این قسمت ممکن است کوچک‌تر از آن باشد که در همان نگاه اول به چشم بیاید اما با بزرگنمایی بیشتر، می‌توانید مشکل را یافته و رفع کنید.

برای مشکلات دیگر، ممکن است خطا مربوط به نقطهٔ به خصوصی نشود.
مثلا اگر یک منحنی در جهت اشتباه رسم شده باشد (که یعنی به جای ساعت‌گرد، پادساعت‌گرد باشد) کل منحنی تحت تاثیر قرار می‌گیرد.
در چنین مواردی، که نه فونت‌فورج می‌تواند به طور خودکار مشکل را رفع کنید و نه نقطهٔ مشخصی توسط درستی‌سنجی به عنوان محل خطا مشخص شده است، ممکن است لازم باشد بیشتر زمان صرف یافتن و رفع دستی مشکل بکنید.

در پایان، آزمون‌های دیگری (مثل وجود داشتن گره‌هایی با مختصات غیر از عدد صحیح که پیش‌تر به ان اشاره شد) نیز توسط درستی‌سنج اجرا می‌شوند که ممکن است از نگاه قالب خروجی نهایی مشکلی به حساب نیایند.
در چنین مواردی، می‌توانید با انتخاب ignore this problem in the future، از بررسی و نمایش این خطاها در آینده چشم‌پوشی کنید.

## رفع مشکلات حین ویرایش

بسیاری از خطاهایی که ابزارهای Find Problems و درستی‌سنج پیدا می‌کنند را می‌توان در خلال فرایند ویرایش رفع کرد.
بنابراین می‌توانید در خلال ویرایش، از تعویق فرایند مشکل‌یابی اجتناب کنید.
به عنوان مثال، `View > Show` گزینه‌ای دارد که باعث مشخص شدن محدودهٔ مشکلات در خلال ویرایش می‌شود،
یا فهرست `Element > Add Extrema` که نقاط کرانه را مطابق انتظارات قالب‌های خروجی روی مسیرها درج می‌کند،
یا زیرفهرست‌هایی در فهرست Element که نشان می‌دهند مسیر انتخاب شده، در جهت ساعت‌گرد است یا پادساعت‌گرد.
اگر شکلی را در ویرایش‌گر گلیف به صورت افقی یا عمودی معکوس کنید متوجه خواهید شد که جهت رسم مسیرها نیز به طور خودکار معکوس می‌شوند.
اگر روی فرمان `Element > Correct Direction` کلیک کنید، فونت‌فورج سریعا جهت رسم را اصلاح می‌کند.
عادت کردن به انجام چنین اصلاحات ریزی در خلال کار روی گلیف‌ها می‌تواند کارتان را در زمان درستی‌سنجی آسان‌تر کند.

# آیا طراحی فعلی به کار می‌آید؟  

تایپ‌فیس‌ها به دو شکل می‌توانند بهتر یا بدتر کار کنند: خوانایی (readability) و وضوح (legibility)

منظور از وضوح (legibility) این است که طراحی حروف آن قدر از هم تفاوت دارند که بتوان سریعا آن‌ها را به درستی تشخیص داد.
اینجا، چند نویسهٔ لاتین را می‌بینیم که معمولا شباهت زیادی به هم دارند:

* حرف "L" و عدد "1"
* حرف "O" و عدد "0" 
* حرف "Z" و عدد "2" 
* اعداد "1" و "7"

خوانایی به این اشاره می‌کند که گلیف‌ها در کنار هم، تجربهٔ خوبی از آشنایی و راحتی در خواندن به کاربر بدهند.
بهترین کار برای اطمینان از مناسب بودن این دو عامل، ساختن اسنادی برای امتحان کردن فونت است.
اگر همهٔ حروف الفبا را طراحی کرده‌اید می‌توانید مجموعه‌ای از متون واقعی را (مثلا با استفاده از
[FontFriend](http://somadesign.ca/projects/fontfriend/)
) تهیه کرده و فونت‌تان را روی مقالات بلند اخبار اعمال و نتیجه را برای بررسی بیشتر، چاپ کنید.

با این وجود، اگر فونت شما فقط بخشی از حروف را داراست، می‌توانید از ابزاری مثل
[LibreText](https://github.com/garethsprice/libretext/)
یا هر یک از برنامه‌های پردازش متن یا حتی نرم‌افزارهای عمومی طراحی مثل
[اینک‌اسکیپ](http://www.inkscape.org)
برای ساخت یک سند متنی بهره بگیرید.

# آزمایش فونت در محیط‌های مختلف

در زمان بررسی فونت روی مایکروسافت ویندوز،
[Font properties extension](https://www.microsoft.com/typography/TrueTypeProperty21.mspx)
می‌تواند برای بازبینی سریع فراداده‌های داخلی فونت، مانند شماره نسخه، مفید باشد.

اگر فونت در حال توسعه‌ای را نصب کرده‌اید که باعث رفتارهای غیر عادی در ویندوز می‌شود،
[این مقاله](http://typedrawers.com/discussion/1322/otf-fonts-from-glyphs-not-working-with-windows-word)
شیوه پاک کردن فونت‌های مشکل‌دار (در این مثال، فونت Rhodium) را در TypeDrawers توضیح می‌دهد:

> ویندوز را بازراه‌اندازی کرده و به حالت بازیابی (Recovery console mode) بروید. در پیشخوان، به پوشهٔ `Windows/Fonts` رفته و همهٔ مدخل‌های مربوط به فونت Rhodium را پاک کنید. سپس به پوشهٔ `Windows/System32` رفته و پروندهٔ `FNTCACHE.DAT` **و نه `FNTCACHE.dll`** را پاک کنید. سپس ویندوز را بازراه‌اندازی کنید. نسخهٔ جدیدی از پرونده‌ای که پاک کردید از نو ساخته می‌شود و پس از آن می‌توانید نسخهٔ بدون مشکل فونت Rhodium را نصب کرده و ببینید که آیا درست رفتار می‌کند یا نه. (نگران دریافت این پیام نباشید که این فونت پیش‌تر نصب شده است. در این مرحله، ویندوز به شما دروغ می‌گوید.)
